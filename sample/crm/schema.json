{"name":"crm","tables":[{"name":"Company","type":"Base Table","comment":"Company Model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"name","type":"string","nullable":false,"comment":"Company Name"},{"name":"isDeleted","type":"boolean","nullable":true,"comment":"Is Deleted?"},{"name":"url","type":"string","nullable":true,"comment":"Company URL"},{"name":"linkedInUrl","type":"string","nullable":true,"comment":"Company's LinkedIn URL"},{"name":"logoUrl","type":"string","nullable":true,"comment":"Company Logo URL"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for name","def":"Index: true","table":"Company","columns":["name"]},{"name":"Unique for name","def":"Unique: true","table":"Company","columns":["name"]},{"name":"Index for createdAt","def":"Index: true","table":"Company","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"Company","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"Unique: true","table":"Company","columns":["name"]}]},{"name":"Contact","type":"Base Table","comment":"Contact Model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"isDeleted","type":"boolean","nullable":true,"comment":"Is Deleted?"},{"name":"lastName","type":"string","nullable":true,"comment":"Last Name of the Contact"},{"name":"email","type":"string","nullable":false,"comment":"E-mail"},{"name":"phonePrimary","type":"string","nullable":false,"comment":"Primary Phone Number"},{"name":"linkedInUrl","type":"string","nullable":true,"comment":"LinkedIn URL"},{"name":"companyId","type":"uuid","nullable":false,"comment":"Company ID"},{"name":"company","type":"Company","nullable":true,"comment":"Link to the Company"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"firstName","type":"string","nullable":false,"comment":"First Name of the Contact"}],"indexes":[{"name":"Index for createdAt","def":"Index: true","table":"Contact","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"Contact","columns":["updatedAt"]}],"constraints":[{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Company","table":"Contact"}]},{"name":"ContactList","type":"Base Table","comment":"ContactList model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"name","type":"string","nullable":false,"comment":"Contact List Name"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"isDeleted","type":"boolean","nullable":true,"comment":"Is Deleted?"}],"indexes":[{"name":"Index for createdAt","def":"Index: true","table":"ContactList","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"ContactList","columns":["updatedAt"]}]},{"name":"ContactListMember","type":"Base Table","comment":"ContactListMember model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"contact","type":"Contact","nullable":true,"comment":"Link to the Contact"},{"name":"contactListId","type":"uuid","nullable":false,"comment":"ContactList ID"},{"name":"contactList","type":"ContactList","nullable":true,"comment":"Link to the ContactList"},{"name":"addedAt","type":"string","nullable":true,"comment":"Time when the contact was added to the list"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"contactId","type":"uuid","nullable":false,"comment":"Contact ID"}],"indexes":[{"name":"contactListCompositeKey","def":"{\"contactListCompositeKey\":{\"FieldNames\":[\"contactId\",\"contactListId\"],\"Unique\":true}}","table":"ContactListMember","columns":["contactId","contactListId"]},{"name":"Index for createdAt","def":"Index: true","table":"ContactListMember","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"ContactListMember","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"{\"contactListCompositeKey\":{\"FieldNames\":[\"contactId\",\"contactListId\"],\"Unique\":true}}","table":"ContactListMember","columns":["contactId","contactListId"]},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: ContactList","table":"ContactListMember"}]},{"name":"Deal","type":"Base Table","comment":"Deal description","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"amount","type":"float","nullable":false,"comment":"Deal amount"},{"name":"value","type":"float","nullable":true,"comment":"Deal value"},{"name":"userId","type":"uuid","nullable":false,"comment":"User ID"},{"name":"contactId","type":"uuid","nullable":false,"comment":"Contact ID"},{"name":"isDeleted","type":"boolean","nullable":true,"comment":"Is Deleted?"},{"name":"company","type":"Company","nullable":true,"comment":"Link to the Company"},{"name":"probability","type":"float","nullable":false,"comment":"Deal probability."},{"name":"dealStageId","type":"uuid","nullable":false,"comment":"DealStage ID"},{"name":"dealStage","type":"DealStage","nullable":true,"comment":"Link to the DealStage"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"user","type":"User","nullable":true,"comment":"Link to the User"},{"name":"companyId","type":"uuid","nullable":false,"comment":"Company ID"},{"name":"contact","type":"Contact","nullable":true,"comment":"Link to the Contact"}],"indexes":[{"name":"Index for updatedAt","def":"Index: true","table":"Deal","columns":["updatedAt"]},{"name":"Index for createdAt","def":"Index: true","table":"Deal","columns":["createdAt"]}],"constraints":[{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: User","table":"Deal"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Contact","table":"Deal"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: DealStage","table":"Deal"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Company","table":"Deal"}]},{"name":"DealPipeline","type":"Base Table","comment":"DealPipeline description","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"displayOrder","type":"integer","nullable":false,"comment":"Display Order"},{"name":"label","type":"string","nullable":false,"comment":"Label"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for createdAt","def":"Index: true","table":"DealPipeline","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"DealPipeline","columns":["updatedAt"]}]},{"name":"DealStage","type":"Base Table","comment":"DealStage model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"dealPipeline","type":"DealPipeline","nullable":true,"comment":"Link to the DealPipeline"},{"name":"displayOrder","type":"integer","nullable":false,"comment":"Display Order"},{"name":"name","type":"string","nullable":false,"comment":"Name"},{"name":"probability","type":"float","nullable":false,"comment":"Default probability"},{"name":"closedLost","type":"boolean","nullable":false,"comment":"Closed Lost?"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"dealPipelineId","type":"uuid","nullable":false,"comment":"DealPipeline ID"},{"name":"description","type":"string","nullable":true,"comment":"Description"},{"name":"label","type":"string","nullable":false,"comment":"Label"},{"name":"type","type":"string","nullable":true,"comment":"Stage type"},{"name":"closedWon","type":"boolean","nullable":false,"comment":"Closed Won?"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"}],"indexes":[{"name":"Index for updatedAt","def":"Index: true","table":"DealStage","columns":["updatedAt"]},{"name":"Index for createdAt","def":"Index: true","table":"DealStage","columns":["createdAt"]}],"constraints":[{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: DealPipeline","table":"DealStage"}]},{"name":"Engagement","type":"Base Table","comment":"Engagement model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"active","type":"boolean","nullable":true,"comment":"Is active?"},{"name":"activityType","type":"string","nullable":false,"comment":"Activity type"},{"name":"userId","type":"uuid","nullable":false,"comment":"Owner ID"},{"name":"type","type":"string","nullable":true,"comment":"Engagement type"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for createdAt","def":"Index: true","table":"Engagement","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"Engagement","columns":["updatedAt"]}],"constraints":[{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: User","table":"Engagement"}]},{"name":"EngagementCompany","type":"Base Table","comment":"EngagementCompany model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"engagement","type":"Engagement","nullable":true,"comment":"Link to the Engagement"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"companyId","type":"uuid","nullable":false,"comment":"Company ID"},{"name":"company","type":"Company","nullable":true,"comment":"Link to the Company"},{"name":"engagementId","type":"uuid","nullable":false,"comment":"Engagement ID"}],"indexes":[{"name":"engagementCompanyCompositeKey","def":"{\"engagementCompanyCompositeKey\":{\"FieldNames\":[\"companyId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementCompany","columns":["companyId","engagementId"]},{"name":"Index for createdAt","def":"Index: true","table":"EngagementCompany","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"EngagementCompany","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"{\"engagementCompanyCompositeKey\":{\"FieldNames\":[\"companyId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementCompany","columns":["companyId","engagementId"]},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Company","table":"EngagementCompany"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Engagement","table":"EngagementCompany"}]},{"name":"EngagementContact","type":"Base Table","comment":"EngagementContact model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"contactId","type":"uuid","nullable":false,"comment":"Contact ID"},{"name":"contact","type":"Contact","nullable":true,"comment":"Link to the Contact"},{"name":"engagementId","type":"uuid","nullable":false,"comment":"Engagement ID"},{"name":"engagement","type":"Engagement","nullable":true,"comment":"Link to the Engagement"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"engagementContactCompositeKey","def":"{\"engagementContactCompositeKey\":{\"FieldNames\":[\"contactId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementContact","columns":["contactId","engagementId"]},{"name":"Index for createdAt","def":"Index: true","table":"EngagementContact","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"EngagementContact","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"{\"engagementContactCompositeKey\":{\"FieldNames\":[\"contactId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementContact","columns":["contactId","engagementId"]},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Contact","table":"EngagementContact"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Engagement","table":"EngagementContact"}]},{"name":"EngagementDeal","type":"Base Table","comment":"EngagementDeal model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"engagementId","type":"uuid","nullable":false,"comment":"Engagement ID"},{"name":"engagement","type":"Engagement","nullable":true,"comment":"Link to the Engagement"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"},{"name":"dealId","type":"uuid","nullable":false,"comment":"Deal ID"},{"name":"deal","type":"Deal","nullable":true,"comment":"Link to the Deal"}],"indexes":[{"name":"engagementDealCompositeKey","def":"{\"engagementDealCompositeKey\":{\"FieldNames\":[\"dealId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementDeal","columns":["dealId","engagementId"]},{"name":"Index for createdAt","def":"Index: true","table":"EngagementDeal","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"EngagementDeal","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"{\"engagementDealCompositeKey\":{\"FieldNames\":[\"dealId\",\"engagementId\"],\"Unique\":true}}","table":"EngagementDeal","columns":["dealId","engagementId"]},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Engagement","table":"EngagementDeal"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Deal","table":"EngagementDeal"}]},{"name":"Role","type":"Base Table","comment":"User Roles","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"name","type":"string","nullable":false,"comment":"Name of the Role"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for name","def":"Index: true","table":"Role","columns":["name"]},{"name":"Index for createdAt","def":"Index: true","table":"Role","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"Role","columns":["updatedAt"]}]},{"name":"Team","type":"Base Table","comment":"Team model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"name","type":"string","nullable":false,"comment":"Team Name"},{"name":"isDeleted","type":"boolean","nullable":true,"comment":"Is Deleted?"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for name","def":"Index: true","table":"Team","columns":["name"]},{"name":"Unique for name","def":"Unique: true","table":"Team","columns":["name"]},{"name":"Index for createdAt","def":"Index: true","table":"Team","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"Team","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"Unique: true","table":"Team","columns":["name"]}]},{"name":"TeamUser","type":"Base Table","comment":"TeamUser model","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"teamId","type":"uuid","nullable":false,"comment":"Team ID"},{"name":"team","type":"Team","nullable":true,"comment":"Link to the Team"},{"name":"userId","type":"uuid","nullable":false,"comment":"User ID"},{"name":"user","type":"User","nullable":true,"comment":"Link to the User"},{"name":"isSecondaryUser","type":"boolean","nullable":false,"comment":"Is Secondary User?"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"teamUserCompositeKey","def":"{\"teamUserCompositeKey\":{\"FieldNames\":[\"teamId\",\"userId\"],\"Unique\":true}}","table":"TeamUser","columns":["teamId","userId"]},{"name":"Index for teamId","def":"Index: true","table":"TeamUser","columns":["teamId"]},{"name":"Index for userId","def":"Index: true","table":"TeamUser","columns":["userId"]},{"name":"Index for createdAt","def":"Index: true","table":"TeamUser","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"TeamUser","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"{\"teamUserCompositeKey\":{\"FieldNames\":[\"teamId\",\"userId\"],\"Unique\":true}}","table":"TeamUser","columns":["teamId","userId"]},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: Team","table":"TeamUser"},{"name":"","type":"FOREIGN KEY","def":"ForeignKeyType: User","table":"TeamUser"}]},{"name":"User","type":"Base Table","comment":"User of the system","columns":[{"name":"id","type":"uuid","nullable":false},{"name":"name","type":"string","nullable":false,"comment":"Name of the user"},{"name":"email","type":"string","nullable":false,"comment":"Email of the user"},{"name":"roles","type":"uuid","nullable":true,"comment":"Role IDs of the user"},{"name":"createdAt","type":"datetime","nullable":true,"comment":"createdAt"},{"name":"updatedAt","type":"datetime","nullable":true,"comment":"updatedAt"}],"indexes":[{"name":"Index for name","def":"Index: true","table":"User","columns":["name"]},{"name":"Index for email","def":"Index: true","table":"User","columns":["email"]},{"name":"Unique for email","def":"Unique: true","table":"User","columns":["email"]},{"name":"Index for createdAt","def":"Index: true","table":"User","columns":["createdAt"]},{"name":"Index for updatedAt","def":"Index: true","table":"User","columns":["updatedAt"]}],"constraints":[{"name":"","type":"UNIQUE","def":"Unique: true","table":"User","columns":["email"]}]}],"relations":[{"table":"Contact","columns":["companyId"],"cardinality":"zero_or_more","parent_table":"Company","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"ContactListMember","columns":["contactListId"],"cardinality":"zero_or_more","parent_table":"ContactList","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"Deal","columns":["userId"],"cardinality":"zero_or_more","parent_table":"User","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"Deal","columns":["contactId"],"cardinality":"zero_or_more","parent_table":"Contact","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"Deal","columns":["dealStageId"],"cardinality":"zero_or_more","parent_table":"DealStage","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"Deal","columns":["companyId"],"cardinality":"zero_or_more","parent_table":"Company","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"DealStage","columns":["dealPipelineId"],"cardinality":"zero_or_more","parent_table":"DealPipeline","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"Engagement","columns":["userId"],"cardinality":"zero_or_more","parent_table":"User","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementCompany","columns":["companyId"],"cardinality":"zero_or_more","parent_table":"Company","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementCompany","columns":["engagementId"],"cardinality":"zero_or_more","parent_table":"Engagement","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementContact","columns":["contactId"],"cardinality":"zero_or_more","parent_table":"Contact","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementContact","columns":["engagementId"],"cardinality":"zero_or_more","parent_table":"Engagement","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementDeal","columns":["engagementId"],"cardinality":"zero_or_more","parent_table":"Engagement","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"EngagementDeal","columns":["dealId"],"cardinality":"zero_or_more","parent_table":"Deal","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"TeamUser","columns":["teamId"],"cardinality":"zero_or_more","parent_table":"Team","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"},{"table":"TeamUser","columns":["userId"],"cardinality":"zero_or_more","parent_table":"User","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"ForeignKey"}]}
