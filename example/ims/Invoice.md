# Invoice

## Description

Invoice model

## Columns

| Name | Type | Default | Nullable | Children | Parents | Comment |
| ---- | ---- | ------- | -------- | -------- | ------- | ------- |
| id | uuid |  | false | [InvoiceLineItem](InvoiceLineItem.md) |  |  |
| active | boolean |  | true |  |  | active |
| createdAt | datetime |  | true |  |  | createdAt |
| invoiceNumber | string |  | true |  |  | Invoice number |
| customerID | uuid |  | true |  | [Contact](Contact.md) | Contact model. Contact and this model is n:1 |
| customer | Contact |  | true |  | [Contact](Contact.md) | Customer contact |
| shipmentID | uuid |  | true |  | [Shipment](Shipment.md) | Shipment ID (Origin of the invoice) |
| shipment | Shipment |  | true |  | [Shipment](Shipment.md) | Shipment model. (Origin of the invoice) Shipment and this model is n:1. |
| date | datetime |  | true |  |  | date |
| quickbookInvoiceId | string |  | true |  |  | Quickbook invoice ID |
| invoiceStatus | enum |  | true |  |  | inventoryType |
| pushedToQBAt | datetime |  | true |  |  | Date when the invoice was pushed to QuickBooks |
| updatedAt | datetime |  | true |  |  | updatedAt |

## Constraints

| Name | Type | Definition |
| ---- | ---- | ---------- |
| ForeignKey for customer to Contact | FOREIGN KEY | ForeignKeyType: Contact |

## Indexes

| Name | Definition |
| ---- | ---------- |
| Index for createdAt | Index: true |
| Index for updatedAt | Index: true |

## Relations

```mermaid
erDiagram

"InvoiceLineItem" }o--|| "Invoice" : "Source: Invoice"
"Invoice" }o--o| "Contact" : "ForeignKeyType: Contact"
"Invoice" }o--o| "Shipment" : "Source: Shipment"

"Invoice" {
  uuid id
  boolean active
  datetime createdAt
  string invoiceNumber
  uuid customerID FK
  Contact customer FK
  uuid shipmentID FK
  Shipment shipment FK
  datetime date
  string quickbookInvoiceId
  enum invoiceStatus
  datetime pushedToQBAt
  datetime updatedAt
}
"InvoiceLineItem" {
  uuid id
  boolean active
  datetime createdAt
  uuid invoiceID FK
  Invoice invoice FK
  float unitPrice
  datetime updatedAt
  uuid variantID FK
  ProductVariant variant FK
  float quantity
  boolean taxable
}
"Contact" {
  uuid id
  boolean active
  datetime createdAt
  string name
  string email
  string phone
  string address1
  string address2
  string city
  string province
  string country
  datetime updatedAt
  string zip
  string countryCode
  string company
  string provinceCode
  string quickBookCustomerId
  float openBalance
  float creditLimit
  float availableCredit
}
"Shipment" {
  uuid id
  boolean active
  datetime createdAt
  string shipmentNumber
  uuid customerID FK
  Contact customer FK
  uuid salesOrderID FK
  SalesOrder salesOrder FK
  datetime date
  datetime updatedAt
}
```

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
